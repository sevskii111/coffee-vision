# CoffeeVision

## Описание

В этом репозитории реализован прототип веб-приложения, с помощью которого можно смотреть статистику по распознанным объектам и в дальнейшем применять полученную информацию в различных сферах - например, социальной или экономической. Потенциально возможна коллаборация с другими сервисами (например Госуслуги). Для увеличения распознаваемых классов нужно воспользоваться модулем yolov5 и дообучить модель на желаемые классы.

## Запуск

Для запуска необходимо:
* Выполнить `npm install`;
* Загрузить набор данных в папку `public/dataset` из папки `kazan_cam`. Должна получиться структура `public/dataset/0/23-11-2021_02-18-40_PM.jpg` и т.д;
* Загрузить `.env` файл по ссылке, которая указана в ЛК рядом со ссылкой на этот репозиторий и разместить его в корне репозитория;
* Далее необходимо выполнить команды `npm run dev`, после этого сервер должен стать доступен на порту `3000`;
* Можно зарегистрировать нового пользователя или использовать `test;test`;

Для проверки `inference`-а:
* Нужно поменять в `.env` название БД(`kazan-hack-prod`) на какое-то другое(например `kazan-hack-prod-0314`);
* Перейти в папку `inference` и развернуть conda environment из файла `environment.yml`;
* Открыть `inference.ipynb`, заполнить в нём вторую ячейку(`api` - ссылка на запущенное веб приложение, например `http://localhost:3000/api/`, а также `secret`, он должен совпадать с указанным в `.env` `PYTHON_SECRET`) и выполнить все его ячейки, должна начаться загрузка предсказаний в веб-приложение.

## Обучающий датасет

Для обучения использовался самостоятельно собранный и размеченный датасет в который вошло более 500 картинок из датасета кейсодержателя, а так же [камер Липецка](https://camera.lipetsk.ru/index.php?r=tiles%2Ftbo)

[Размеченный датасет](https://drive.google.com/file/d/14WNoIN7ymnOPSNqZAf-CMxPHGMijd_qm/view?usp=sharing)
